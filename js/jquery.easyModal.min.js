(function(c,b){var a=function(g,d,e){var h;return function f(){var k=this,j=arguments;function i(){if(!e){g.apply(k,j)}h=null}if(h){clearTimeout(h)}else{if(e){g.apply(k,j)}}h=setTimeout(i,d||100)}};jQuery.fn[b]=function(d){return d?this.bind("resize",a(d)):this.trigger(b)}})(jQuery,"smartModalResize");(function(b){var a={init:function(c){var d={top:"auto",left:"auto",autoOpen:false,overlayOpacity:0.5,overlayColor:"#000",overlayClose:true,overlayParent:"body",closeOnEscape:true,closeButtonClass:".close",transitionIn:"",transitionOut:"",onOpen:false,onClose:false,zIndex:function(){return(function(e){return e===-Infinity?0:e+1}(Math.max.apply(Math,b.makeArray(b("*").map(function(){return b(this).css("z-index")}).filter(function(){return b.isNumeric(this)}).map(function(){return parseInt(this,10)})))))},updateZIndexOnOpen:true,hasVariableWidth:false};c=b.extend(d,c);return this.each(function(){var g=c,e=b('<div class="lean-overlay"></div>'),f=b(this);e.css({display:"none",position:"fixed","z-index":(g.updateZIndexOnOpen?0:g.zIndex()),top:0,left:0,height:"100%",width:"100%",background:g.overlayColor,opacity:g.overlayOpacity,overflow:"auto"}).appendTo(g.overlayParent);f.css({display:"none",position:"fixed","z-index":(g.updateZIndexOnOpen?0:g.zIndex()+1),left:parseInt(g.left,10)>-1?g.left+"px":50+"%",top:parseInt(g.top,10)>-1?g.top+"px":50+"%"});f.bind("openModal",function(){var i=g.updateZIndexOnOpen?g.zIndex():parseInt(e.css("z-index"),10),h=i+1;if(g.transitionIn!==""&&g.transitionOut!==""){f.removeClass(g.transitionOut).addClass(g.transitionIn)}f.css({display:"block","margin-left":(parseInt(g.left,10)>-1?0:-(f.outerWidth()/2))+"px","margin-top":(parseInt(g.top,10)>-1?0:-(f.outerHeight()/2))+"px","z-index":h});e.css({"z-index":i,display:"block"});if(g.onOpen&&typeof g.onOpen==="function"){g.onOpen(f[0])}});f.bind("closeModal",function(){if(g.transitionIn!==""&&g.transitionOut!==""){f.removeClass(g.transitionIn).addClass(g.transitionOut);f.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){f.css("display","none");e.css("display","none")})}else{f.css("display","none");e.css("display","none")}if(g.onClose&&typeof g.onClose==="function"){g.onClose(f[0])}});e.click(function(){if(g.overlayClose){f.trigger("closeModal")}});b(document).keydown(function(h){if(g.closeOnEscape&&h.keyCode===27){f.trigger("closeModal")}});b(window).smartModalResize(function(){if(g.hasVariableWidth){f.css({"margin-left":(parseInt(g.left,10)>-1?0:-(f.outerWidth()/2))+"px","margin-top":(parseInt(g.top,10)>-1?0:-(f.outerHeight()/2))+"px"})}});f.on("click",g.closeButtonClass,function(h){f.trigger("closeModal");h.preventDefault()});if(g.autoOpen){f.trigger("openModal")}})}};b.fn.easyModal=function(c){if(a[c]){return a[c].apply(this,Array.prototype.slice.call(arguments,1))}if(typeof c==="object"||!c){return a.init.apply(this,arguments)}b.error("Method "+c+" does not exist on jQuery.easyModal")}}(jQuery));