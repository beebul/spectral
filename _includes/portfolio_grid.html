<!-- Portfolio Grid Section -->
<h2 class="section-heading">Portfolio</h2>

<section id="portfolio" class="bg-light-gray">
  <div class="container">
    <div class="row">
      <div class="button-group filter-button-group">
        {% for category in site.categories %}
        <a class="btn button" data-filter=".{{ category | first | slugify }}">{{ category | first }}</a> {% endfor %}
        <a class="btn button active" data-filter="*">All</a>
      </div>
    </div>

    <div class="row">
      {% for post in site.posts %}
      <div class="grid column 4u grid-sizer" >
        <figure class="portfolio-item {{ post.category | slugify }}">
          <a href="#portfolioModal{{ post.modal-id }}" class="portfolio-link">
                <img src="img/portfolio/{{ post.thumbnail }}" class="image fit" alt="{{ post.category | slugify }}">
          </a>
          <figcaption>{{ post.title }}
            <!-- <p>{{ post.subtitle }}</p> -->
          </figcaption>
        </figure>
      </div>
      {% endfor %}
    </div>

  </div>
</section>

<script>
  // init Isotope
  $( window ).load( function() {
     var $container = $('.isotope').isotope({
        itemSelector: '.item',
        masonry: {
          columnWidth: '.grid-sizer',
          gutter: '.gutter-sizer'
        }
      });

  });
  // filter items on button click
  $('.filter-button-group').on('click', 'a', function() {
    var filterValue = $(this).attr('data-filter');
    $grid.isotope({
      filter: filterValue
    });
  });

  $('.button-group a.button').on('click', function() {
    $('.button-group a.button').removeClass('active');
    $(this).addClass('active');
    console.log(filterValue);
  });
</script>

<style>
  
  #portfolio .row { margin-bottom: 2rem; }
  
  figure {
    position: relative !important;
  }

  figure img {
    display: block !important;
  }

  figcaption {
    background: rgba(0, 0, 0, 0.5);
    color: #FFF;
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    text-align: right;
    margin-left: 3rem;
  }
  
  .item img {
  width: 100%;
  height: 100%;
  display: block;
}
  
</style>